<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Scale and/or center regression inputs, including from survey designs, by dividing by 2 SD — gscale • jtools</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">jtools</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/categorical.html">Plotting interactions among categorical variables in regression models</a>
    </li>
    <li>
      <a href="../articles/interactions.html">Exploring interactions with continuous predictors in regression models</a>
    </li>
    <li>
      <a href="../articles/summ.html">Tools for summarizing and visualizing regression models</a>
    </li>
    <li>
      <a href="../articles/svycor.html">Calculate correlations and correlation tables with complex survey data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jacob-long/jtools">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Scale and/or center regression inputs, including from survey designs, by dividing by 2 SD</h1>
    </div>

    
    <p><code>gscale()</code> standardizes variables by dividing them by 2 standard deviations
and mean-centering them by default. It contains options for handling binary
variables separately. <code>gscale()</code> is a fork of <code><a href='http://www.rdocumentation.org/packages/arm/topics/rescale'>rescale</a></code>
from the <span class="pkg">arm</span> package---the key feature difference is that
<code>gscale()</code> will perform the same functions for variables in
<code><a href='http://www.rdocumentation.org/packages/survey/topics/svydesign'>svydesign</a></code> objects. <code>gscale()</code> is also more
user-friendly in that it is more flexible in how it accepts input.</p>
    

    <pre class="usage"><span class='fu'>gscale</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>binary.inputs</span> <span class='kw'>=</span> <span class='st'>"center"</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>n.sd</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>center.only</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>scale.only</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>weights</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A vector to be rescaled, or a vector of variable names. If none provided, but data
frame or <code>svydesign</code> object is, all columns will be processed and returned.</p></td>
    </tr>
    <tr>
      <th>binary.inputs</th>
      <td><p>Options for binary variables. Default is <code>center</code>;
<code>0/1</code> keeps original scale; <code>-0.5/0.5</code> rescales 0 as -0.5 and 1 as 0.5;
<code>center</code> subtracts the mean; and <code>full</code> subtracts the mean and
divides by 2 sd.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>A data frame or survey design. Only needed if you would like to
rescale multiple variables at once. If <code>x = NULL</code>, all columns will
be rescaled. Otherwise, <code>x</code> should be a vector of variable names. If
<code>x</code> is a numeric vector, this argument is ignored.</p></td>
    </tr>
    <tr>
      <th>n.sd</th>
      <td><p>By how many standard deviations should the variables be divided by?
Default is 2, as in <span class="pkg">arm</span>'s <code><a href='http://www.rdocumentation.org/packages/arm/topics/rescale'>rescale</a></code>. Choosing 1 would
make for a more typical standardization scheme.</p></td>
    </tr>
    <tr>
      <th>center.only</th>
      <td><p>A logical value indicating whether you would like to mean-center
the values, but not scale them.</p></td>
    </tr>
    <tr>
      <th>scale.only</th>
      <td><p>A logical value indicating whether you would like to scale
the values, but not mean-center them.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>A vector of weights equal in length to <code>x</code>. If iterating
over a data frame, the weights will need to be equal in length to all the
columns to avoid errors. You may need to remove missing values before using
the weights.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is adapted from the <code><a href='http://www.rdocumentation.org/packages/arm/topics/rescale'>rescale</a></code> function of
the <span class="pkg">arm</span> package. It is named <code>gscale()</code> after the
popularizer of this scaling method, Andrew <strong>G</strong>elman. By default, it
works just like <code>rescale</code>. But it contains many additional options and
can also accept multiple types of input without breaking a sweat.</p>
<p>Only numeric variables are altered when in a data.frame or survey design.
Character variables, factors, etc. are skipped.</p>
<p>For those dealing with survey data, if you provide a <code>survey.design</code> object
you can rest assured that the mean-centering and scaling is performed
with help from the <code><a href='http://www.rdocumentation.org/packages/survey/topics/surveysummary'>svymean</a></code> and
<code><a href='http://www.rdocumentation.org/packages/survey/topics/surveysummary'>svyvar</a></code> functions, respectively. It was among the primary
motivations for creating this function. <code>gscale()</code> will not center or
scale the weights variables defined in the survey design unless the user
specifically requests them in the <code>x =</code> argument.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Gelman, A. (2008). Scaling regression inputs by dividing by two standard
deviations. <em>Statistics in Medicine</em>, <em>27</em>, 2865–2873.
<a href='http://www.stat.columbia.edu/~gelman/research/published/standardizing7.pdf'>http://www.stat.columbia.edu/~gelman/research/published/standardizing7.pdf</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='j_summ.html'>j_summ</a></code> is a replacement for the <code>summary</code> function for
regression models. On request, it will center and/or standardize variables
before printing its output.</p>
<p>Other standardization, scaling, and centering tools: <code><a href='center_lm.html'>center_lm</a></code>,
  <code><a href='scale_lm.html'>scale_lm</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>rnorm</span>(<span class='fl'>10</span>, <span class='fl'>2</span>, <span class='fl'>1</span>)
<span class='no'>x2</span> <span class='kw'>&lt;-</span> <span class='fu'>rbinom</span>(<span class='fl'>10</span>, <span class='fl'>1</span>, <span class='fl'>.5</span>)

<span class='co'># Basic use</span>
<span class='fu'>gscale</span>(<span class='no'>x</span>)</div><div class='output co'>#&gt;  [1] -0.42887747  0.31166952 -0.89289131  0.19495774  0.47550979  0.71120693
#&gt;  [7] -0.61756360  0.08680595  0.08820427  0.07097818</div><div class='input'><span class='co'># Normal standardization</span>
<span class='fu'>gscale</span>(<span class='no'>x</span>, <span class='kw'>n.sd</span> <span class='kw'>=</span> <span class='fl'>1</span>)</div><div class='output co'>#&gt;  [1] -0.8577549  0.6233390 -1.7857826  0.3899155  0.9510196  1.4224139
#&gt;  [7] -1.2351272  0.1736119  0.1764085  0.1419564</div><div class='input'><span class='co'># Scale only</span>
<span class='fu'>gscale</span>(<span class='no'>x</span>, <span class='kw'>scale.only</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;  [1]  0.3352739  1.2603397 -0.2443562  1.1145473  1.4650033  1.7594280
#&gt;  [7]  0.0995737  0.9794478  0.9811946  0.9596763</div><div class='input'><span class='co'># Center only</span>
<span class='fu'>gscale</span>(<span class='no'>x</span>, <span class='kw'>center.only</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;  [1] -0.9586790  0.6966816 -1.9958991  0.4357932  1.0629172  1.5897761
#&gt;  [7] -1.3804532  0.1940392  0.1971649  0.1586591</div><div class='input'><span class='co'># Binary inputs</span>
<span class='fu'>gscale</span>(<span class='no'>x2</span>, <span class='kw'>binary.inputs</span> <span class='kw'>=</span> <span class='st'>"0/1"</span>)</div><div class='output co'>#&gt;  [1] 0 1 1 0 1 1 0 1 1 1</div><div class='input'><span class='fu'>gscale</span>(<span class='no'>x2</span>, <span class='kw'>binary.inputs</span> <span class='kw'>=</span> <span class='st'>"full"</span>) <span class='co'># treats it like a continous var</span></div><div class='output co'>#&gt;  [1] -0.7245688  0.3105295  0.3105295 -0.7245688  0.3105295  0.3105295
#&gt;  [7] -0.7245688  0.3105295  0.3105295  0.3105295</div><div class='input'><span class='fu'>gscale</span>(<span class='no'>x2</span>, <span class='kw'>binary.inputs</span> <span class='kw'>=</span> <span class='st'>"-0.5/0.5"</span>) <span class='co'># keep scale, center at zero</span></div><div class='output co'>#&gt;  [1] -0.5  0.5  0.5 -0.5  0.5  0.5 -0.5  0.5  0.5  0.5</div><div class='input'><span class='fu'>gscale</span>(<span class='no'>x2</span>, <span class='kw'>binary.inputs</span> <span class='kw'>=</span> <span class='st'>"center"</span>) <span class='co'># mean center it</span></div><div class='output co'>#&gt;  [1] -0.7  0.3  0.3 -0.7  0.3  0.3 -0.7  0.3  0.3  0.3</div><div class='input'>
<span class='co'># Data frame as input</span>
<span class='co'># loops through each numeric column</span>
<span class='fu'>gscale</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>, <span class='kw'>binary.inputs</span> <span class='kw'>=</span> <span class='st'>"-0.5/0.5"</span>)</div><div class='output co'>#&gt;                             mpg        cyl        disp          hp        drat
#&gt; Mazda RX4            0.07544241 -0.0524939 -0.28530991 -0.26754642  0.28375684
#&gt; Mazda RX4 Wag        0.07544241 -0.0524939 -0.28530991 -0.26754642  0.28375684
#&gt; Datsun 710           0.22477172 -0.6124289 -0.49509105 -0.39152023  0.23699979
#&gt; Hornet 4 Drive       0.10862670 -0.0524939  0.11004685 -0.26754642 -0.48305877
#&gt; Hornet Sportabout   -0.11536726  0.5074411  0.52154061  0.20647109 -0.41759890
#&gt; Valiant             -0.16514370 -0.0524939 -0.02308349 -0.30400931 -0.78230388
#&gt; Duster 360          -0.48039447  0.5074411  0.52154061  0.71695148 -0.36149044
#&gt; Merc 240D            0.35750889 -0.6124289 -0.33896547 -0.61759012  0.08737724
#&gt; Merc 230             0.22477172 -0.6124289 -0.36276756 -0.37693508  0.30245966
#&gt; Merc 280            -0.07388690 -0.0524939 -0.25464959 -0.17274292  0.30245966
#&gt; Merc 280C           -0.19003192 -0.0524939 -0.25464959 -0.17274292  0.30245966
#&gt; Merc 450SE          -0.30617694  0.5074411  0.18185654  0.24293397 -0.49241018
#&gt; Merc 450SL          -0.23151228  0.5074411  0.18185654  0.24293397 -0.49241018
#&gt; Merc 450SLC         -0.40572981  0.5074411  0.18185654  0.24293397 -0.49241018
#&gt; Cadillac Fleetwood  -0.80394131  0.5074411  0.97337691  0.42524840 -0.62332991
#&gt; Lincoln Continental -0.80394131  0.5074411  0.92496588  0.49817417 -0.55787004
#&gt; Chrysler Imperial   -0.44721018  0.5074411  0.84428082  0.60756282 -0.34278762
#&gt; Fiat 128             1.02119472 -0.6124289 -0.61329465 -0.58841981  0.45208222
#&gt; Honda Civic          0.85527326 -0.6124289 -0.62539740 -0.69051589  1.24695206
#&gt; Toyota Corolla       1.14563581 -0.6124289 -0.64395497 -0.59571239  0.58300196
#&gt; Toyota Corona        0.11692278 -0.6124289 -0.44627659 -0.36234992  0.09672865
#&gt; Dodge Challenger    -0.38084159  0.5074411  0.35210200  0.02415666 -0.78230388
#&gt; AMC Javelin         -0.40572981  0.5074411  0.29562247  0.02415666 -0.41759890
#&gt; Camaro Z28          -0.56335520  0.5074411  0.48119809  0.71695148  0.12478288
#&gt; Pontiac Firebird    -0.07388690  0.5074411  0.68291072  0.20647109 -0.48305877
#&gt; Fiat X1-9            0.59809500 -0.6124289 -0.61208437 -0.58841981  0.45208222
#&gt; Porsche 914-2        0.49024605 -0.6124289 -0.44546974 -0.40610538  0.77938156
#&gt; Lotus Europa         0.85527326 -0.6124289 -0.54713290 -0.24566869  0.16218851
#&gt; Ford Pantera L      -0.35595337  0.5074411  0.48523234  0.85551044  0.58300196
#&gt; Ferrari Dino        -0.03240653 -0.0524939 -0.34582370  0.20647109  0.02191737
#&gt; Maserati Bora       -0.42232196  0.5074411  0.28351971  1.37328341 -0.05289391
#&gt; Volvo 142E           0.10862670 -0.6124289 -0.44264576 -0.27483900  0.48013645
#&gt;                               wt         qsec   vs   am       gear        carb
#&gt; Mazda RX4           -0.305199784 -0.388582573 -0.5  0.5  0.2117771  0.36760154
#&gt; Mazda RX4 Wag       -0.174892635 -0.231890410 -0.5  0.5  0.2117771  0.36760154
#&gt; Datsun 710          -0.458502312  0.213003408  0.5  0.5  0.2117771 -0.56107604
#&gt; Hornet 4 Drive      -0.001149769  0.445243578  0.5 -0.5 -0.4659096 -0.56107604
#&gt; Hornet Sportabout    0.113827127 -0.231890410 -0.5 -0.5 -0.4659096 -0.25151684
#&gt; Valiant              0.124047296  0.663493376  0.5 -0.5 -0.4659096 -0.56107604
#&gt; Duster 360           0.180258223 -0.562063181 -0.5 -0.5 -0.4659096  0.36760154
#&gt; Merc 240D           -0.013924980  0.601935740  0.5 -0.5  0.2117771 -0.25151684
#&gt; Merc 230            -0.034365317  1.413377296  0.5 -0.5  0.2117771 -0.25151684
#&gt; Merc 280             0.113827127  0.126263104  0.5 -0.5  0.2117771  0.36760154
#&gt; Merc 280C            0.113827127  0.294147564  0.5 -0.5  0.2117771  0.36760154
#&gt; Merc 450SE           0.435762437 -0.125563586 -0.5 -0.5 -0.4659096  0.05804235
#&gt; Merc 450SL           0.262019572 -0.069602099 -0.5 -0.5 -0.4659096  0.05804235
#&gt; Merc 450SLC          0.287569993  0.042320874 -0.5 -0.5 -0.4659096  0.05804235
#&gt; Cadillac Fleetwood   1.038752382  0.036724726 -0.5 -0.5 -0.4659096  0.36760154
#&gt; Lincoln Continental  1.127667849 -0.008044464 -0.5 -0.5 -0.4659096  0.36760154
#&gt; Chrysler Imperial    1.087298183 -0.119967437 -0.5 -0.5 -0.4659096  0.36760154
#&gt; Fiat 128            -0.519823324  0.453637801  0.5  0.5  0.2117771 -0.56107604
#&gt; Honda Civic         -0.818763254  0.187820739  0.5  0.5  0.2117771 -0.25151684
#&gt; Toyota Corolla      -0.706341400  0.573954997  0.5  0.5  0.2117771 -0.56107604
#&gt; Toyota Corona       -0.384406090  0.604733815  0.5 -0.5 -0.4659096 -0.56107604
#&gt; Dodge Challenger     0.154707802 -0.273861525 -0.5 -0.5 -0.4659096 -0.25151684
#&gt; AMC Javelin          0.111272085 -0.153544329 -0.5 -0.5 -0.4659096 -0.25151684
#&gt; Camaro Z28           0.318230499 -0.682380377 -0.5 -0.5 -0.4659096  0.36760154
#&gt; Pontiac Firebird     0.320785541 -0.223496187 -0.5 -0.5 -0.4659096 -0.25151684
#&gt; Fiat X1-9           -0.655240557  0.294147564  0.5  0.5  0.2117771 -0.56107604
#&gt; Porsche 914-2       -0.550483829 -0.321428789 -0.5  0.5  0.8894638 -0.25151684
#&gt; Lotus Europa        -0.870886114 -0.265467302  0.5  0.5  0.8894638 -0.25151684
#&gt; Ford Pantera L      -0.024145148 -0.937005142 -0.5  0.5  0.8894638  0.36760154
#&gt; Ferrari Dino        -0.228548520 -0.657197709 -0.5  0.5  0.8894638  0.98671992
#&gt; Maserati Bora        0.180258223 -0.909024398 -0.5  0.5  0.8894638  1.60583831
#&gt; Volvo 142E          -0.223438435  0.210205334  0.5  0.5  0.2117771 -0.25151684</div><div class='input'>
<span class='co'># Specified vars in data frame</span>
<span class='fu'>gscale</span>(<span class='fu'>c</span>(<span class='st'>"hp"</span>, <span class='st'>"wt"</span>, <span class='st'>"vs"</span>), <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>, <span class='kw'>binary.inputs</span> <span class='kw'>=</span> <span class='st'>"center"</span>)</div><div class='output co'>#&gt;                      mpg cyl  disp          hp drat           wt  qsec      vs
#&gt; Mazda RX4           21.0   6 160.0 -0.26754642 3.90 -0.305199784 16.46 -0.4375
#&gt; Mazda RX4 Wag       21.0   6 160.0 -0.26754642 3.90 -0.174892635 17.02 -0.4375
#&gt; Datsun 710          22.8   4 108.0 -0.39152023 3.85 -0.458502312 18.61  0.5625
#&gt; Hornet 4 Drive      21.4   6 258.0 -0.26754642 3.08 -0.001149769 19.44  0.5625
#&gt; Hornet Sportabout   18.7   8 360.0  0.20647109 3.15  0.113827127 17.02 -0.4375
#&gt; Valiant             18.1   6 225.0 -0.30400931 2.76  0.124047296 20.22  0.5625
#&gt; Duster 360          14.3   8 360.0  0.71695148 3.21  0.180258223 15.84 -0.4375
#&gt; Merc 240D           24.4   4 146.7 -0.61759012 3.69 -0.013924980 20.00  0.5625
#&gt; Merc 230            22.8   4 140.8 -0.37693508 3.92 -0.034365317 22.90  0.5625
#&gt; Merc 280            19.2   6 167.6 -0.17274292 3.92  0.113827127 18.30  0.5625
#&gt; Merc 280C           17.8   6 167.6 -0.17274292 3.92  0.113827127 18.90  0.5625
#&gt; Merc 450SE          16.4   8 275.8  0.24293397 3.07  0.435762437 17.40 -0.4375
#&gt; Merc 450SL          17.3   8 275.8  0.24293397 3.07  0.262019572 17.60 -0.4375
#&gt; Merc 450SLC         15.2   8 275.8  0.24293397 3.07  0.287569993 18.00 -0.4375
#&gt; Cadillac Fleetwood  10.4   8 472.0  0.42524840 2.93  1.038752382 17.98 -0.4375
#&gt; Lincoln Continental 10.4   8 460.0  0.49817417 3.00  1.127667849 17.82 -0.4375
#&gt; Chrysler Imperial   14.7   8 440.0  0.60756282 3.23  1.087298183 17.42 -0.4375
#&gt; Fiat 128            32.4   4  78.7 -0.58841981 4.08 -0.519823324 19.47  0.5625
#&gt; Honda Civic         30.4   4  75.7 -0.69051589 4.93 -0.818763254 18.52  0.5625
#&gt; Toyota Corolla      33.9   4  71.1 -0.59571239 4.22 -0.706341400 19.90  0.5625
#&gt; Toyota Corona       21.5   4 120.1 -0.36234992 3.70 -0.384406090 20.01  0.5625
#&gt; Dodge Challenger    15.5   8 318.0  0.02415666 2.76  0.154707802 16.87 -0.4375
#&gt; AMC Javelin         15.2   8 304.0  0.02415666 3.15  0.111272085 17.30 -0.4375
#&gt; Camaro Z28          13.3   8 350.0  0.71695148 3.73  0.318230499 15.41 -0.4375
#&gt; Pontiac Firebird    19.2   8 400.0  0.20647109 3.08  0.320785541 17.05 -0.4375
#&gt; Fiat X1-9           27.3   4  79.0 -0.58841981 4.08 -0.655240557 18.90  0.5625
#&gt; Porsche 914-2       26.0   4 120.3 -0.40610538 4.43 -0.550483829 16.70 -0.4375
#&gt; Lotus Europa        30.4   4  95.1 -0.24566869 3.77 -0.870886114 16.90  0.5625
#&gt; Ford Pantera L      15.8   8 351.0  0.85551044 4.22 -0.024145148 14.50 -0.4375
#&gt; Ferrari Dino        19.7   6 145.0  0.20647109 3.62 -0.228548520 15.50 -0.4375
#&gt; Maserati Bora       15.0   8 301.0  1.37328341 3.54  0.180258223 14.60 -0.4375
#&gt; Volvo 142E          21.4   4 121.0 -0.27483900 4.11 -0.223438435 18.60  0.5625
#&gt;                     am gear carb
#&gt; Mazda RX4            1    4    4
#&gt; Mazda RX4 Wag        1    4    4
#&gt; Datsun 710           1    4    1
#&gt; Hornet 4 Drive       0    3    1
#&gt; Hornet Sportabout    0    3    2
#&gt; Valiant              0    3    1
#&gt; Duster 360           0    3    4
#&gt; Merc 240D            0    4    2
#&gt; Merc 230             0    4    2
#&gt; Merc 280             0    4    4
#&gt; Merc 280C            0    4    4
#&gt; Merc 450SE           0    3    3
#&gt; Merc 450SL           0    3    3
#&gt; Merc 450SLC          0    3    3
#&gt; Cadillac Fleetwood   0    3    4
#&gt; Lincoln Continental  0    3    4
#&gt; Chrysler Imperial    0    3    4
#&gt; Fiat 128             1    4    1
#&gt; Honda Civic          1    4    2
#&gt; Toyota Corolla       1    4    1
#&gt; Toyota Corona        0    3    1
#&gt; Dodge Challenger     0    3    2
#&gt; AMC Javelin          0    3    2
#&gt; Camaro Z28           0    3    4
#&gt; Pontiac Firebird     0    3    2
#&gt; Fiat X1-9            1    4    1
#&gt; Porsche 914-2        1    5    2
#&gt; Lotus Europa         1    5    2
#&gt; Ford Pantera L       1    5    4
#&gt; Ferrari Dino         1    5    6
#&gt; Maserati Bora        1    5    8
#&gt; Volvo 142E           1    4    2</div><div class='input'>
<span class='co'># Weighted inputs</span>

<span class='no'>wts</span> <span class='kw'>&lt;-</span> <span class='fu'>runif</span>(<span class='fl'>10</span>, <span class='fl'>0</span>, <span class='fl'>1</span>)
<span class='fu'>gscale</span>(<span class='no'>x</span>, <span class='kw'>weights</span> <span class='kw'>=</span> <span class='no'>wts</span>)</div><div class='output co'>#&gt;  [1] -0.43125470  0.26464991 -0.86729640  0.15497386  0.41861339  0.64010201
#&gt;  [7] -0.60856626  0.05334179  0.05465581  0.03846817</div><div class='input'><span class='co'># If using a weights column of data frame, give its name</span>
<span class='no'>mtcars</span>$<span class='no'>weights</span> <span class='kw'>&lt;-</span> <span class='fu'>runif</span>(<span class='fl'>32</span>, <span class='fl'>0</span>, <span class='fl'>1</span>)
<span class='fu'>gscale</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>, <span class='kw'>weights</span> <span class='kw'>=</span> <span class='no'>weights</span>) <span class='co'># will skip over mtcars$weights</span></div><div class='output co'>#&gt;                             mpg         cyl         disp          hp
#&gt; Mazda RX4            0.06424156  0.01615019 -0.259872325 -0.22222143
#&gt; Mazda RX4 Wag        0.06424156  0.01615019 -0.259872325 -0.22222143
#&gt; Datsun 710           0.21520704 -0.53517597 -0.470660639 -0.34614194
#&gt; Hornet 4 Drive       0.09778944  0.01615019  0.137382575 -0.22222143
#&gt; Hornet Sportabout   -0.12865877  0.56747635  0.550851960  0.25159228
#&gt; Valiant             -0.17898060  0.01615019  0.003613068 -0.25866864
#&gt; Duster 360          -0.49768550  0.56747635  0.550851960  0.76185320
#&gt; Merc 240D            0.34939858 -0.53517597 -0.313785490 -0.57211463
#&gt; Merc 230             0.21520704 -0.53517597 -0.337701856 -0.33156305
#&gt; Merc 280            -0.08672392  0.01615019 -0.229064802 -0.12745869
#&gt; Merc 280C           -0.20414151  0.01615019 -0.229064802 -0.12745869
#&gt; Merc 450SE          -0.32155911  0.56747635  0.209537036  0.28803949
#&gt; Merc 450SL          -0.24607637  0.56747635  0.209537036  0.28803949
#&gt; Merc 450SLC         -0.42220276  0.56747635  0.209537036  0.28803949
#&gt; Cadillac Fleetwood  -0.82477737  0.56747635  1.004857560  0.47027553
#&gt; Lincoln Continental -0.82477737  0.56747635  0.956214103  0.54316995
#&gt; Chrysler Imperial   -0.46413761  0.56747635  0.875141674  0.65251157
#&gt; Fiat 128             1.02035626 -0.53517597 -0.589431747 -0.54295686
#&gt; Honda Civic          0.85261684 -0.53517597 -0.601592611 -0.64500905
#&gt; Toyota Corolla       1.14616082 -0.53517597 -0.620239269 -0.55024631
#&gt; Toyota Corona        0.10617642 -0.53517597 -0.421611820 -0.31698417
#&gt; Dodge Challenger    -0.39704185  0.56747635  0.380599860  0.06935624
#&gt; AMC Javelin         -0.42220276  0.56747635  0.323849160  0.06935624
#&gt; Camaro Z28          -0.58155521  0.56747635  0.510315746  0.76185320
#&gt; Pontiac Firebird    -0.08672392  0.56747635  0.712996817  0.25159228
#&gt; Fiat X1-9            0.59262074 -0.53517597 -0.588215660 -0.54295686
#&gt; Porsche 914-2        0.48359011 -0.53517597 -0.420801095 -0.36072082
#&gt; Lotus Europa         0.85261684 -0.53517597 -0.522952355 -0.20035310
#&gt; Ford Pantera L      -0.37188093  0.56747635  0.514369367  0.90035259
#&gt; Ferrari Dino        -0.04478906  0.01615019 -0.320676646  0.25159228
#&gt; Maserati Bora       -0.43897670  0.56747635  0.311688296  1.41790295
#&gt; Volvo 142E           0.09778944 -0.53517597 -0.417963560 -0.22951087
#&gt;                            drat           wt        qsec         vs         am
#&gt; Mazda RX4            0.30386980 -0.307380611 -0.41003825 -0.4819734  0.6191224
#&gt; Mazda RX4 Wag        0.30386980 -0.172587401 -0.27285304 -0.4819734  0.6191224
#&gt; Datsun 710           0.25426903 -0.465960859  0.11665499  0.5180266  0.6191224
#&gt; Hornet 4 Drive      -0.50958280  0.007136879  0.31998307  0.5180266 -0.3808776
#&gt; Hornet Sportabout   -0.44014172  0.126072065 -0.27285304 -0.4819734 -0.3808776
#&gt; Valiant             -0.82702771  0.136644081  0.51106248  0.5180266 -0.3808776
#&gt; Duster 360          -0.38062080  0.194790172 -0.56192188 -0.4819734 -0.3808776
#&gt; Merc 240D            0.09554657 -0.006078141  0.45716829  0.5180266 -0.3808776
#&gt; Merc 230             0.32371011 -0.027222174  1.16759173  0.5180266 -0.3808776
#&gt; Merc 280             0.32371011  0.126072065  0.04071317  0.5180266 -0.3808776
#&gt; Merc 280C            0.32371011  0.126072065  0.18769733  0.5180266 -0.3808776
#&gt; Merc 450SE          -0.51950295  0.459090584 -0.17976307 -0.4819734 -0.3808776
#&gt; Merc 450SL          -0.51950295  0.279366304 -0.13076835 -0.4819734 -0.3808776
#&gt; Merc 450SLC         -0.51950295  0.305796345 -0.03277891 -0.4819734 -0.3808776
#&gt; Cadillac Fleetwood  -0.65838510  1.082839558 -0.03767838 -0.4819734 -0.3808776
#&gt; Lincoln Continental -0.58894402  1.174816101 -0.07687416 -0.4819734 -0.3808776
#&gt; Chrysler Imperial   -0.36078049  1.133056636 -0.17486360 -0.4819734 -0.3808776
#&gt; Fiat 128             0.48243256 -0.529392958  0.32733228  0.5180266  0.6191224
#&gt; Honda Civic          1.32564562 -0.838624440  0.09460736  0.5180266  0.6191224
#&gt; Toyota Corolla       0.62131471 -0.722332259  0.43267093  0.5180266  0.6191224
#&gt; Toyota Corona        0.10546673 -0.389313739  0.45961802  0.5180266 -0.3808776
#&gt; Dodge Challenger    -0.82702771  0.168360131 -0.30959908 -0.4819734 -0.3808776
#&gt; AMC Javelin         -0.44014172  0.123429061 -0.20426043 -0.4819734 -0.3808776
#&gt; Camaro Z28           0.13522719  0.337512395 -0.66726053 -0.4819734 -0.3808776
#&gt; Pontiac Firebird    -0.50958280  0.340155399 -0.26550383 -0.4819734 -0.3808776
#&gt; Fiat X1-9            0.48243256 -0.669472176  0.18769733  0.5180266  0.6191224
#&gt; Porsche 914-2        0.82963794 -0.561109007 -0.35124459 -0.4819734  0.6191224
#&gt; Lotus Europa         0.17490780 -0.892541725 -0.30224987  0.5180266  0.6191224
#&gt; Ford Pantera L       0.62131471 -0.016650158 -0.89018651 -0.4819734  0.6191224
#&gt; Ferrari Dino         0.02610550 -0.228090488 -0.64521291 -0.4819734  0.6191224
#&gt; Maserati Bora       -0.05325573  0.194790172 -0.86568915 -0.4819734  0.6191224
#&gt; Volvo 142E           0.51219302 -0.222804480  0.11420525  0.5180266  0.6191224
#&gt;                           gear       carb    weights
#&gt; Mazda RX4            0.1858306  0.4200398 0.68016292
#&gt; Mazda RX4 Wag        0.1858306  0.4200398 0.49884561
#&gt; Datsun 710           0.1858306 -0.5246565 0.64167935
#&gt; Hornet 4 Drive      -0.4754387 -0.5246565 0.66028435
#&gt; Hornet Sportabout   -0.4754387 -0.2097577 0.09602416
#&gt; Valiant             -0.4754387 -0.5246565 0.76560016
#&gt; Duster 360          -0.4754387  0.4200398 0.76967480
#&gt; Merc 240D            0.1858306 -0.2097577 0.99071231
#&gt; Merc 230             0.1858306 -0.2097577 0.97052090
#&gt; Merc 280             0.1858306  0.4200398 0.38918276
#&gt; Merc 280C            0.1858306  0.4200398 0.46118646
#&gt; Merc 450SE          -0.4754387  0.1051410 0.31524175
#&gt; Merc 450SL          -0.4754387  0.1051410 0.17467589
#&gt; Merc 450SLC         -0.4754387  0.1051410 0.53157354
#&gt; Cadillac Fleetwood  -0.4754387  0.4200398 0.49363702
#&gt; Lincoln Continental -0.4754387  0.4200398 0.77930863
#&gt; Chrysler Imperial   -0.4754387  0.4200398 0.20417834
#&gt; Fiat 128             0.1858306 -0.5246565 0.71339728
#&gt; Honda Civic          0.1858306 -0.2097577 0.06521611
#&gt; Toyota Corolla       0.1858306 -0.5246565 0.35420680
#&gt; Toyota Corona       -0.4754387 -0.5246565 0.82519942
#&gt; Dodge Challenger    -0.4754387 -0.2097577 0.27381825
#&gt; AMC Javelin         -0.4754387 -0.2097577 0.57004495
#&gt; Camaro Z28          -0.4754387  0.4200398 0.33571908
#&gt; Pontiac Firebird    -0.4754387 -0.2097577 0.59626279
#&gt; Fiat X1-9            0.1858306 -0.5246565 0.19151803
#&gt; Porsche 914-2        0.8470999 -0.2097577 0.94776394
#&gt; Lotus Europa         0.8470999 -0.2097577 0.54248041
#&gt; Ford Pantera L       0.8470999  0.4200398 0.54460339
#&gt; Ferrari Dino         0.8470999  1.0498372 0.27859715
#&gt; Maserati Bora        0.8470999  1.6796347 0.44670247
#&gt; Volvo 142E           0.1858306 -0.2097577 0.37151118</div><div class='input'><span class='co'># If using a weights column of data frame, can still select variables</span>
<span class='fu'>gscale</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"hp"</span>, <span class='st'>"wt"</span>, <span class='st'>"vs"</span>), <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>, <span class='kw'>weights</span> <span class='kw'>=</span> <span class='no'>weights</span>)</div><div class='output co'>#&gt;                      mpg cyl  disp          hp drat           wt  qsec
#&gt; Mazda RX4           21.0   6 160.0 -0.22222143 3.90 -0.307380611 16.46
#&gt; Mazda RX4 Wag       21.0   6 160.0 -0.22222143 3.90 -0.172587401 17.02
#&gt; Datsun 710          22.8   4 108.0 -0.34614194 3.85 -0.465960859 18.61
#&gt; Hornet 4 Drive      21.4   6 258.0 -0.22222143 3.08  0.007136879 19.44
#&gt; Hornet Sportabout   18.7   8 360.0  0.25159228 3.15  0.126072065 17.02
#&gt; Valiant             18.1   6 225.0 -0.25866864 2.76  0.136644081 20.22
#&gt; Duster 360          14.3   8 360.0  0.76185320 3.21  0.194790172 15.84
#&gt; Merc 240D           24.4   4 146.7 -0.57211463 3.69 -0.006078141 20.00
#&gt; Merc 230            22.8   4 140.8 -0.33156305 3.92 -0.027222174 22.90
#&gt; Merc 280            19.2   6 167.6 -0.12745869 3.92  0.126072065 18.30
#&gt; Merc 280C           17.8   6 167.6 -0.12745869 3.92  0.126072065 18.90
#&gt; Merc 450SE          16.4   8 275.8  0.28803949 3.07  0.459090584 17.40
#&gt; Merc 450SL          17.3   8 275.8  0.28803949 3.07  0.279366304 17.60
#&gt; Merc 450SLC         15.2   8 275.8  0.28803949 3.07  0.305796345 18.00
#&gt; Cadillac Fleetwood  10.4   8 472.0  0.47027553 2.93  1.082839558 17.98
#&gt; Lincoln Continental 10.4   8 460.0  0.54316995 3.00  1.174816101 17.82
#&gt; Chrysler Imperial   14.7   8 440.0  0.65251157 3.23  1.133056636 17.42
#&gt; Fiat 128            32.4   4  78.7 -0.54295686 4.08 -0.529392958 19.47
#&gt; Honda Civic         30.4   4  75.7 -0.64500905 4.93 -0.838624440 18.52
#&gt; Toyota Corolla      33.9   4  71.1 -0.55024631 4.22 -0.722332259 19.90
#&gt; Toyota Corona       21.5   4 120.1 -0.31698417 3.70 -0.389313739 20.01
#&gt; Dodge Challenger    15.5   8 318.0  0.06935624 2.76  0.168360131 16.87
#&gt; AMC Javelin         15.2   8 304.0  0.06935624 3.15  0.123429061 17.30
#&gt; Camaro Z28          13.3   8 350.0  0.76185320 3.73  0.337512395 15.41
#&gt; Pontiac Firebird    19.2   8 400.0  0.25159228 3.08  0.340155399 17.05
#&gt; Fiat X1-9           27.3   4  79.0 -0.54295686 4.08 -0.669472176 18.90
#&gt; Porsche 914-2       26.0   4 120.3 -0.36072082 4.43 -0.561109007 16.70
#&gt; Lotus Europa        30.4   4  95.1 -0.20035310 3.77 -0.892541725 16.90
#&gt; Ford Pantera L      15.8   8 351.0  0.90035259 4.22 -0.016650158 14.50
#&gt; Ferrari Dino        19.7   6 145.0  0.25159228 3.62 -0.228090488 15.50
#&gt; Maserati Bora       15.0   8 301.0  1.41790295 3.54  0.194790172 14.60
#&gt; Volvo 142E          21.4   4 121.0 -0.22951087 4.11 -0.222804480 18.60
#&gt;                             vs am gear carb    weights
#&gt; Mazda RX4           -0.4819734  1    4    4 0.68016292
#&gt; Mazda RX4 Wag       -0.4819734  1    4    4 0.49884561
#&gt; Datsun 710           0.5180266  1    4    1 0.64167935
#&gt; Hornet 4 Drive       0.5180266  0    3    1 0.66028435
#&gt; Hornet Sportabout   -0.4819734  0    3    2 0.09602416
#&gt; Valiant              0.5180266  0    3    1 0.76560016
#&gt; Duster 360          -0.4819734  0    3    4 0.76967480
#&gt; Merc 240D            0.5180266  0    4    2 0.99071231
#&gt; Merc 230             0.5180266  0    4    2 0.97052090
#&gt; Merc 280             0.5180266  0    4    4 0.38918276
#&gt; Merc 280C            0.5180266  0    4    4 0.46118646
#&gt; Merc 450SE          -0.4819734  0    3    3 0.31524175
#&gt; Merc 450SL          -0.4819734  0    3    3 0.17467589
#&gt; Merc 450SLC         -0.4819734  0    3    3 0.53157354
#&gt; Cadillac Fleetwood  -0.4819734  0    3    4 0.49363702
#&gt; Lincoln Continental -0.4819734  0    3    4 0.77930863
#&gt; Chrysler Imperial   -0.4819734  0    3    4 0.20417834
#&gt; Fiat 128             0.5180266  1    4    1 0.71339728
#&gt; Honda Civic          0.5180266  1    4    2 0.06521611
#&gt; Toyota Corolla       0.5180266  1    4    1 0.35420680
#&gt; Toyota Corona        0.5180266  0    3    1 0.82519942
#&gt; Dodge Challenger    -0.4819734  0    3    2 0.27381825
#&gt; AMC Javelin         -0.4819734  0    3    2 0.57004495
#&gt; Camaro Z28          -0.4819734  0    3    4 0.33571908
#&gt; Pontiac Firebird    -0.4819734  0    3    2 0.59626279
#&gt; Fiat X1-9            0.5180266  1    4    1 0.19151803
#&gt; Porsche 914-2       -0.4819734  1    5    2 0.94776394
#&gt; Lotus Europa         0.5180266  1    5    2 0.54248041
#&gt; Ford Pantera L      -0.4819734  1    5    4 0.54460339
#&gt; Ferrari Dino        -0.4819734  1    5    6 0.27859715
#&gt; Maserati Bora       -0.4819734  1    5    8 0.44670247
#&gt; Volvo 142E           0.5180266  1    4    2 0.37151118</div><div class='input'>
<span class='co'># Survey designs</span>
<span class='fu'>library</span>(<span class='no'>survey</span>)
<span class='fu'>data</span>(<span class='no'>api</span>)
<span class='co'>## Create survey design object</span>
<span class='no'>dstrat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/survey/topics/svydesign'>svydesign</a></span>(<span class='kw'>id</span> <span class='kw'>=</span> ~<span class='fl'>1</span>, <span class='kw'>strata</span> <span class='kw'>=</span> ~<span class='no'>stype</span>, <span class='kw'>weights</span> <span class='kw'>=</span> ~<span class='no'>pw</span>,
                     <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>apistrat</span>, <span class='kw'>fpc</span><span class='kw'>=</span>~<span class='no'>fpc</span>)
<span class='co'># Creating test binary variable</span>
<span class='no'>dstrat</span>$<span class='no'>variables</span>$<span class='no'>binary</span> <span class='kw'>&lt;-</span> <span class='fu'>rbinom</span>(<span class='fl'>200</span>, <span class='fl'>1</span>, <span class='fl'>0.5</span>)

<span class='fu'>gscale</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>dstrat</span>, <span class='kw'>binary.inputs</span> <span class='kw'>=</span> <span class='st'>"-0.5/0.5"</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: All values of flag were NA. Skipping...</span></div><div class='output co'>#&gt; Stratified Independent Sampling design
#&gt; svydesign(id = ~1, strata = ~stype, weights = ~pw, data = apistrat, 
#&gt;     fpc = ~fpc)</div><div class='input'><span class='fu'>gscale</span>(<span class='fu'>c</span>(<span class='st'>"api00"</span>,<span class='st'>"meals"</span>,<span class='st'>"binary"</span>), <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>dstrat</span>,
       <span class='kw'>binary.inputs</span> <span class='kw'>=</span> <span class='st'>"-0.5/0.5"</span>)</div><div class='output co'>#&gt; Stratified Independent Sampling design
#&gt; svydesign(id = ~1, strata = ~stype, weights = ~pw, data = apistrat, 
#&gt;     fpc = ~fpc)</div><div class='input'>



</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Jacob Long &lt;<a href='mailto:long.1377@osu.edu'>long.1377@osu.edu</a>&gt;

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jacob A. Long.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
