<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analysis and Presentation of Social Scientific Data • jtools</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">jtools</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/categorical.html">Plotting interactions among categorical variables in regression models</a>
    </li>
    <li>
      <a href="articles/interactions.html">Exploring interactions with continuous predictors in regression models</a>
    </li>
    <li>
      <a href="articles/summ.html">Tools for summarizing and visualizing regression models</a>
    </li>
    <li>
      <a href="articles/svycor.html">Calculate correlations and correlation tables with complex survey data</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jacob-long/jtools">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="jtools" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#jtools" class="anchor"></a>jtools</h1></div>

<!-- [![Project Status: Active - The project has reached a stable, usable state and is being actively developed.](http://www.repostatus.org/badges/latest/active.svg)](http://www.repostatus.org/#active) [![MIT License](https://img.shields.io/badge/license-MIT-blue.svg?style=flat)](https://opensource.org/licenses/MIT) -->
<p>This package consists of a series of functions created by the author (Jacob) to automate otherwise tedious research tasks. At this juncture, the unifying theme is the more efficient presentation of regression analyses. There are a number of functions for visualizing and doing inference for interaction terms. Support for the <code>survey</code> package’s <code>svyglm</code> objects as well as weighted regressions is a common theme throughout.</p>
<p><strong>Note</strong>: This is beta software. Bugs are possible, both in terms of code-breaking errors and more pernicious errors of mistaken computation.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>For the most stable version, simply install from CRAN.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"jtools"</span>)</code></pre></div>
<p>If you want the latest features and bug fixes (and perhaps the latest bugs, too) then you can download from Github. To do that you will need to have <code>devtools</code> installed if you don’t already:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"devtools"</span>)</code></pre></div>
<p>Then install the package from Github.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"jacob-long/jtools"</span>)</code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>Here’s a brief synopsis of the current functions in the package:</p>
<div id="summarizing-regressions-summ-plot_summs-export_summs" class="section level3">
<h3 class="hasAnchor">
<a href="#summarizing-regressions-summ-plot_summs-export_summs" class="anchor"></a>Summarizing regressions (<code>summ</code>, <code>plot_summs</code>, <code>export_summs</code>)</h3>
<p><code>summ</code> is a replacement for <code>summary</code> that provides the user several options for formatting regression summaries. It supports <code>glm</code>, <code>svyglm</code>, and <code>merMod</code> objects as input as well. It supports calculation and reporting of robust standard errors via the <code>sandwich</code> package.</p>
<p>Basic use:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fit &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>hp <span class="op">+</span><span class="st"> </span>wt, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="reference/summ.html">summ</a></span>(fit)</code></pre></div>
<pre><code>#&gt; MODEL INFO:
#&gt; Observations: 32
#&gt; Dependent Variable: mpg
#&gt; 
#&gt; MODEL FIT: 
#&gt; F(2,29) = 69.21, p = 0
#&gt; R-squared = 0.83
#&gt; Adj. R-squared = 0.81
#&gt; 
#&gt; Standard errors: OLS 
#&gt;             Est.  S.E. t val. p    
#&gt; (Intercept) 37.23 1.6  23.28  0 ***
#&gt; hp          -0.03 0.01 -3.52  0 ** 
#&gt; wt          -3.88 0.63 -6.13  0 ***</code></pre>
<p>It has several conveniences, like re-fitting your model with scaled variables (<code>scale = TRUE</code>). You have the option to leave the outcome variable in its original scale (<code>scale.response = TRUE</code>), which is the default for scaled models. I’m a fan of Andrew Gelman’s 2 SD standardization method, so you can specify by how many standard deviations you would like to rescale (<code>n.sd = 2</code>).</p>
<p>You can also get variance inflation factors (VIFs) and partial/semipartial (AKA part) correlations. Partial correlations are only available for OLS models. You may also substitute confidence intervals in place of standard errors and you can choose whether to show p values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/summ.html">summ</a></span>(fit, <span class="dt">scale =</span> <span class="ot">TRUE</span>, <span class="dt">vifs =</span> <span class="ot">TRUE</span>, <span class="dt">part.corr =</span> <span class="ot">TRUE</span>, <span class="dt">confint =</span> <span class="ot">TRUE</span>,
     <span class="dt">pvals =</span> <span class="ot">FALSE</span>)</code></pre></div>
<pre><code>#&gt; MODEL INFO:
#&gt; Observations: 32
#&gt; Dependent Variable: mpg
#&gt; 
#&gt; MODEL FIT: 
#&gt; F(2,29) = 69.21, p = 0
#&gt; R-squared = 0.83
#&gt; Adj. R-squared = 0.81
#&gt; 
#&gt; Standard errors: OLS 
#&gt;              Est.  2.5% 97.5% t val.   VIF partial.r part.r
#&gt; (Intercept) 20.09 19.19 20.99  43.82                       
#&gt; hp          -2.18 -3.39 -0.97  -3.52  1.77     -0.55  -0.27
#&gt; wt          -3.79 -5.01 -2.58  -6.13  1.77     -0.75  -0.47
#&gt; 
#&gt; All continuous predictors are mean-centered and scaled by 1 s.d.</code></pre>
<p>Cluster-robust standard errors:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">"PetersenCL"</span>, <span class="dt">package =</span> <span class="st">"sandwich"</span>)
fit2 &lt;-<span class="st"> </span><span class="kw">lm</span>(y <span class="op">~</span><span class="st"> </span>x, <span class="dt">data =</span> PetersenCL)
<span class="kw"><a href="reference/summ.html">summ</a></span>(fit2, <span class="dt">robust =</span> <span class="ot">TRUE</span>, <span class="dt">cluster =</span> <span class="st">"firm"</span>, <span class="dt">robust.type =</span> <span class="st">"HC3"</span>)</code></pre></div>
<pre><code>#&gt; MODEL INFO:
#&gt; Observations: 5000
#&gt; Dependent Variable: y
#&gt; 
#&gt; MODEL FIT: 
#&gt; F(1,4998) = 1310.74, p = 0
#&gt; R-squared = 0.21
#&gt; Adj. R-squared = 0.21
#&gt; 
#&gt; Standard errors: Cluster-robust, type = HC3
#&gt;             Est. S.E. t val. p       
#&gt; (Intercept) 0.03 0.07 0.44   0.66    
#&gt; x           1.03 0.05 20.36  0    ***</code></pre>
<p>Of course, <code>summ</code> like <code>summary</code> is best-suited for interactive use. When it comes to share results with others, you want sharper output and probably graphics. <code>jtools</code> has some options for that, too.</p>
<p>First, for tabular output, <code>export_summs</code> is an interface to the <code>huxtable</code> package’s <code>huxreg</code> function that preserves the niceties of <code>summ</code>, particularly its facilities for robust standard errors and standardization. It also concatenates multiple models into a single table.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fit &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>hp <span class="op">+</span><span class="st"> </span>wt, <span class="dt">data =</span> mtcars)
fit_b &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>hp <span class="op">+</span><span class="st"> </span>wt <span class="op">+</span><span class="st"> </span>disp, <span class="dt">data =</span> mtcars)
fit_c &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>hp <span class="op">+</span><span class="st"> </span>wt <span class="op">+</span><span class="st"> </span>disp <span class="op">+</span><span class="st"> </span>drat, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="reference/export_summs.html">export_summs</a></span>(fit, fit_b, fit_c, <span class="dt">scale =</span> <span class="ot">TRUE</span>, <span class="dt">scale.response =</span> <span class="ot">TRUE</span>,
             <span class="dt">note =</span> <span class="st">""</span>)</code></pre></div>
<table style="width:60%;" class="table">
<colgroup>
<col width="18%">
<col width="13%">
<col width="13%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th></th>
<th align="center">(1)</th>
<th align="center">(2)</th>
<th align="center">(3)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>(Intercept)</td>
<td align="center">0.00    </td>
<td align="center">0.00    </td>
<td align="center">0.00    </td>
</tr>
<tr class="even">
<td></td>
<td align="center">(0.08)   </td>
<td align="center">(0.08)   </td>
<td align="center">(0.08)   </td>
</tr>
<tr class="odd">
<td>hp</td>
<td align="center">-0.36 ***</td>
<td align="center">-0.35 ** </td>
<td align="center">-0.40 ** </td>
</tr>
<tr class="even">
<td></td>
<td align="center">(0.10)   </td>
<td align="center">(0.13)   </td>
<td align="center">(0.13)   </td>
</tr>
<tr class="odd">
<td>wt</td>
<td align="center">-0.63 ***</td>
<td align="center">-0.62 ***</td>
<td align="center">-0.56 ***</td>
</tr>
<tr class="even">
<td></td>
<td align="center">(0.10)   </td>
<td align="center">(0.17)   </td>
<td align="center">(0.18)   </td>
</tr>
<tr class="odd">
<td>disp</td>
<td align="center">       </td>
<td align="center">-0.02    </td>
<td align="center">0.08    </td>
</tr>
<tr class="even">
<td></td>
<td align="center">       </td>
<td align="center">(0.21)   </td>
<td align="center">(0.22)   </td>
</tr>
<tr class="odd">
<td>drat</td>
<td align="center">       </td>
<td align="center">       </td>
<td align="center">0.16    </td>
</tr>
<tr class="even">
<td></td>
<td align="center">       </td>
<td align="center">       </td>
<td align="center">(0.12)   </td>
</tr>
<tr class="odd">
<td>N</td>
<td align="center">32       </td>
<td align="center">32       </td>
<td align="center">32       </td>
</tr>
<tr class="even">
<td>R2</td>
<td align="center">0.83    </td>
<td align="center">0.83    </td>
<td align="center">0.84    </td>
</tr>
</tbody>
</table>
<p>In RMarkdown documents, using <code>export_summs</code> and the chunk option <code>results = 'asis'</code> will give you nice-looking tables in HTML and PDF output. Using the <code>to.word = TRUE</code> argument will create a Microsoft Word document with the table in it.</p>
<p>Another way to get a quick gist of your regression analysis is to plot the values of the coefficients and their corresponding uncertainties with <code>plot_summs</code> (or the closely related <code>plot_coefs</code>). <code>jtools</code> has made some slight changes to <code>ggplot2</code> geoms to make everything look nice; and like with <code>export_summs</code>, you can still get your scaled models and robust standard errors.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/plot_summs.html">plot_summs</a></span>(fit, fit_b, fit_c, <span class="dt">scale =</span> <span class="ot">TRUE</span>, <span class="dt">robust =</span> <span class="ot">TRUE</span>, 
    <span class="dt">coefs =</span> <span class="kw">c</span>(<span class="st">"Horsepower"</span> =<span class="st"> "hp"</span>, <span class="st">"Weight (tons)"</span> =<span class="st"> "wt"</span>, 
        <span class="st">"Displacement"</span> =<span class="st"> "disp"</span>, <span class="st">"Rear axle ratio"</span> =<span class="st"> "drat"</span>))</code></pre></div>
<p><img src="tools/README-unnamed-chunk-7-1.png" width="624"></p>
<p>And since you get a <code>ggplot</code> object in return, you can tweak and theme as you wish.</p>
<p><code>plot_coefs</code> works much the same way, but without support for <code>summ</code> arguments like <code>robust</code> and <code>scale</code>. This enables a wider range of models that have support from the <code>broom</code> package but not for <code>summ</code>. And you can give <code>summ</code> objects to <code>plot_coefs</code> since this package defines tidy methods for <code>summ</code> objects.</p>
<p>For instance, I could compare the confidence bands with different robust standard error specifications using <code>plot_coefs</code> by giving the <code>summ</code> objects as arguments.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">summ_fit_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw"><a href="reference/summ.html">summ</a></span>(fit_b, <span class="dt">scale =</span> <span class="ot">TRUE</span>)
summ_fit_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw"><a href="reference/summ.html">summ</a></span>(fit_b, <span class="dt">scale =</span> <span class="ot">TRUE</span>, <span class="dt">robust =</span> <span class="ot">TRUE</span>,
                    <span class="dt">robust.type =</span> <span class="st">"HC0"</span>)
summ_fit_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw"><a href="reference/summ.html">summ</a></span>(fit_b, <span class="dt">scale =</span> <span class="ot">TRUE</span>, <span class="dt">robust =</span> <span class="ot">TRUE</span>,
                    <span class="dt">robust.type =</span> <span class="st">"HC3"</span>)
<span class="kw"><a href="reference/plot_summs.html">plot_coefs</a></span>(summ_fit_<span class="dv">1</span>, summ_fit_<span class="dv">2</span>, summ_fit_<span class="dv">3</span>, 
           <span class="dt">model.names =</span> <span class="kw">c</span>(<span class="st">"OLS"</span>,<span class="st">"HC0"</span>,<span class="st">"HC3"</span>),
           <span class="dt">coefs =</span> <span class="kw">c</span>(<span class="st">"Horsepower"</span> =<span class="st"> "hp"</span>, <span class="st">"Weight (tons)"</span> =<span class="st"> "wt"</span>, 
                    <span class="st">"Displacement"</span> =<span class="st"> "disp"</span>))</code></pre></div>
<p><img src="tools/README-unnamed-chunk-8-1.png" width="624"></p>
</div>
<div id="exploring-interactions" class="section level3">
<h3 class="hasAnchor">
<a href="#exploring-interactions" class="anchor"></a>Exploring interactions</h3>
<p>Unless you have a really keen eye and good familiarity with both the underlying mathematics and the scale of your variables, it can be very difficult to look at the ouput of regression model that includes an interaction and actually understand what the model is telling you.</p>
<p>This package contains several means of aiding understanding and doing statistical inference with interactions.</p>
<div id="johnson-neyman-intervals-and-simple-slopes-analysis" class="section level4">
<h4 class="hasAnchor">
<a href="#johnson-neyman-intervals-and-simple-slopes-analysis" class="anchor"></a>Johnson-Neyman intervals and simple slopes analysis</h4>
<p>The “classic” way of probing an interaction effect is to calculate the slope of the focal predictor at different values of the moderator. When the moderator is binary, this is especially informative—e.g., what is the slope for men vs. women? But you can also arbitrarily choose points for continuous moderators.</p>
<p>With that said, the more statistically rigorous way to explore these effects is to find the Johnson-Neyman interval, which tells you the range of values of the moderator in which the slope of the predictor is significant vs. nonsignificant at a specified alpha level.</p>
<p>The <code>sim_slopes</code> function will by default find the Johnson-Neyman interval and tell you the predictor’s slope at specified values of the moderator; by default either both values of binary predictors or the mean and the mean +/- one standard deviation for continuous moderators.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fiti &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>hp <span class="op">*</span><span class="st"> </span>wt, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="reference/sim_slopes.html">sim_slopes</a></span>(fiti, <span class="dt">pred =</span> hp, <span class="dt">modx =</span> wt, <span class="dt">jnplot =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>#&gt; JOHNSON-NEYMAN INTERVAL
#&gt; 
#&gt; The slope of hp is p &lt; .05 when wt is OUTSIDE this interval:
#&gt; [3.69, 5.9]
#&gt; Note: The range of observed values of wt is [1.51, 5.42]</code></pre>
<p><img src="tools/README-j-n-plot-1.png" width="624"></p>
<pre><code>#&gt; SIMPLE SLOPES ANALYSIS
#&gt; 
#&gt; Slope of hp when wt = 4.2 (+ 1 SD): 
#&gt; Est. S.E.    p 
#&gt; 0.00 0.01 0.76 
#&gt; 
#&gt; Slope of hp when wt = 3.22 (Mean): 
#&gt;  Est.  S.E.     p 
#&gt; -0.03  0.01  0.00 
#&gt; 
#&gt; Slope of hp when wt = 2.24 (- 1 SD): 
#&gt;  Est.  S.E.     p 
#&gt; -0.06  0.01  0.00</code></pre>
<p>The Johnson-Neyman plot can really help you get a handle on what the interval is telling you, too. Note that you can look at the Johnson-Neyman interval directly with the <code>johnson_neyman</code> function.</p>
<p>The above all generalize to three-way interactions, too.</p>
</div>
<div id="visualizing-interaction-effects" class="section level4">
<h4 class="hasAnchor">
<a href="#visualizing-interaction-effects" class="anchor"></a>Visualizing interaction effects</h4>
<p>This function plots two- and three-way interactions using <code>ggplot2</code> with a similar interface to the aforementioned <code>sim_slopes</code> function. Users can customize the appearance with familiar <code>ggplot2</code> commands. It supports several customizations, like confidence intervals.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/interact_plot.html">interact_plot</a></span>(fiti, <span class="dt">pred =</span> hp, <span class="dt">modx =</span> wt, <span class="dt">interval =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="tools/README-interact_plot_continuous-1.png" width="624"></p>
<p>You can also plot the observed data for comparison:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/interact_plot.html">interact_plot</a></span>(fiti, <span class="dt">pred =</span> hp, <span class="dt">modx =</span> wt, <span class="dt">plot.points =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="tools/README-interact_plot_continuous_points-1.png" width="624"></p>
<p>The function also supports categorical moderators—plotting observed data in these cases can reveal striking patterns.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fitiris &lt;-<span class="st"> </span><span class="kw">lm</span>(Petal.Length <span class="op">~</span><span class="st"> </span>Petal.Width <span class="op">*</span><span class="st"> </span>Species, <span class="dt">data =</span> iris)
<span class="kw"><a href="reference/interact_plot.html">interact_plot</a></span>(fitiris, <span class="dt">pred =</span> Petal.Width, <span class="dt">modx =</span> Species, <span class="dt">plot.points =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="tools/README-interact_plot_factor-1.png" width="624"></p>
<p>You may also combine the plotting and simple slopes functions by using <code>probe_interaction</code>, which calls both functions simultaneously. Categorical by categorical interactions can be investigated using the <code>cat_plot</code> function.</p>
</div>
</div>
<div id="other-stuff" class="section level3">
<h3 class="hasAnchor">
<a href="#other-stuff" class="anchor"></a>Other stuff</h3>
<div id="theme_apa" class="section level4">
<h4 class="hasAnchor">
<a href="#theme_apa" class="anchor"></a><code>theme_apa</code>
</h4>
<p>This will format your <code>ggplot2</code> graphics to make them (mostly) appropriate for APA style publications. There’s no drop-in, perfect way to get plots into APA format sight unseen, but this gets you close and returns a <code>ggplot</code> object that can be further tweaked to your specification.</p>
<p>The plots produced by other functions in this package use <code>theme_apa</code>, but use its options to position the plots and alter other details to make them more in line with <code>ggplot2</code> defaults than APA norms.</p>
<p>You might start with something like the above interaction plots and then use <code>theme_apa</code> to tune it to APA specification. Note the <code>legend.pos</code> option:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p &lt;-<span class="st"> </span><span class="kw"><a href="reference/interact_plot.html">interact_plot</a></span>(fitiris, <span class="dt">pred =</span> <span class="st">"Petal.Width"</span>, <span class="dt">modx =</span> <span class="st">"Species"</span>, <span class="dt">plot.points =</span> <span class="ot">TRUE</span>)
p <span class="op">+</span><span class="st"> </span><span class="kw"><a href="reference/theme_apa.html">theme_apa</a></span>(<span class="dt">legend.pos =</span> <span class="st">"topleft"</span>)</code></pre></div>
<p><img src="tools/README-theme_apa_ex-1.png" width="624"></p>
<p>You may need to make further changes to please your publisher, of course. Since these are regular <code>ggplot</code> theme changes, it shouldn’t be a problem.</p>
</div>
<div id="svycor" class="section level4">
<h4 class="hasAnchor">
<a href="#svycor" class="anchor"></a><code>svycor</code>
</h4>
<p>This function extends the <code>survey</code> package by calculating correlations with complex survey designs, a feature absent from <code>survey</code>. Users may request significance tests, which are calculated via bootstrap by calling the <code>weights</code> package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(survey)
<span class="kw">data</span>(api)
dstrat &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/survey/topics/svydesign">svydesign</a></span>(<span class="dt">id =</span> <span class="op">~</span><span class="dv">1</span>, <span class="dt">strata =</span> <span class="op">~</span>stype, <span class="dt">weights =</span> <span class="op">~</span>pw, <span class="dt">data =</span> apistrat, <span class="dt">fpc =</span> <span class="op">~</span>fpc)

<span class="kw"><a href="reference/svycor.html">svycor</a></span>(<span class="op">~</span><span class="st"> </span>api00 <span class="op">+</span><span class="st"> </span>api99 <span class="op">+</span><span class="st"> </span>dnum, <span class="dt">design =</span> dstrat, <span class="dt">sig.stats =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>#&gt;       api00 api99 dnum 
#&gt; api00 1     0.98* 0.25*
#&gt; api99 0.98* 1     0.24*
#&gt; dnum  0.25* 0.24* 1</code></pre>
</div>
<div id="tests-for-survey-weight-ignorability" class="section level4">
<h4 class="hasAnchor">
<a href="#tests-for-survey-weight-ignorability" class="anchor"></a>Tests for survey weight ignorability</h4>
<p>In keeping with the package’s attention to users of survey data, I’ve implemented a couple of tests that help to check whether your model is specified correctly without survey weights. It goes without saying that you shouldn’t let statistical tests do your thinking for you, but they can provide useful info.</p>
<p>The first is <code>wgttest</code>, which implements the DuMouchel-Duncan (1983) procedure and is meant in part to duplicate the user-written Stata procedure of the same name. It can both test whether the model fit overall is changed with the addition of weights as well as show you which coefficients are most affected.</p>
<p>The next is <code>pf_sv_test</code>, short for Pfeffermann-Sverchkov (1999) test, which focuses on residual correlation with weights. You’ll need the <code>boot</code> package for this one.</p>
<p>To run both at once, you can use <code>weights_tests</code>.</p>
</div>
<div id="others" class="section level4">
<h4 class="hasAnchor">
<a href="#others" class="anchor"></a>Others</h4>
<p><code>gscale</code>, <code>center_lm</code>, <code>scale_lm</code>, and <code>svysd</code> each do some of the behind the scenes computation in the above functions, but could do well for end users as well. See the documentation for more.</p>
<p>Details on the arguments can be accessed via the R documentation (<code>?functionname</code>). There are now vignettes documenting just about everything you can do as well.</p>
</div>
</div>
</div>
<div id="contributing" class="section level2">
<h2 class="hasAnchor">
<a href="#contributing" class="anchor"></a>Contributing</h2>
<p>I’m happy to receive bug reports, suggestions, questions, and (most of all) contributions to fix problems and add features. I prefer you use the Github issues system over trying to reach out to me in other ways. Pull requests for contributions are encouraged.</p>
<p>Please note that this project is released with a <a href="CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
<div id="license" class="section level2">
<h2 class="hasAnchor">
<a href="#license" class="anchor"></a>License</h2>
<p>The source code of this package is licensed under the <a href="http://opensource.org/licenses/mit-license.php">MIT License</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cran.r-project.org/package=jtools">https://​cran.r-project.org/​package=jtools</a>
</li>
<li>Browse source code at <br><a href="https://github.com/jacob-long/jtools">https://​github.com/​jacob-long/​jtools</a>
</li>
<li>Report a bug at <br><a href="https://github.com/jacob-long/jtools/issues%20">https://​github.com/​jacob-long/​jtools/​issues </a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing jtools</a></li>
</ul>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Jacob A. Long <br><small class="roles"> Author, maintainer </small> <br><small>(0000-0002-1582-6214)</small>
</li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=jtools"><img src="http://www.r-pkg.org/badges/version/jtools" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://github.com/jacob-long/jtools"><img src="https://img.shields.io/github/tag/jacob-long/jtools.svg?label=Github" alt="GitHub tag"></a></li>
<li><a href="https://travis-ci.org/jacob-long/jtools"><img src="https://travis-ci.org/jacob-long/jtools.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/jacob-long/JTools"><img src="https://ci.appveyor.com/api/projects/status/github/jacob-long/JTools?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://codecov.io/gh/jacob-long/jtools"><img src="https://codecov.io/gh/jacob-long/jtools/branch/master/graph/badge.svg" alt="codecov"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jacob A. Long.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
